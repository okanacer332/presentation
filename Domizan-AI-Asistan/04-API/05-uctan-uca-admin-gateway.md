# UÃ§tan Uca AkÄ±ÅŸ: Admin Panel â†” Gateway

> **DokÃ¼man:** 04-API/05-uctan-uca-admin-gateway.md
> **Son GÃ¼ncelleme:** 5 Åubat 2026
> **AkÄ±ÅŸ Tipi:** YÃ¶netim Ä°ÅŸlemleri

---

## ğŸ¯ Bu DokÃ¼manÄ±n AmacÄ±

Admin Panel'in Gateway ile tÃ¼m iletiÅŸimini, kimlik doÄŸrulama mekanizmalarÄ±nÄ± ve CRUD iÅŸlemlerini aÃ§Ä±klar.

---

## ğŸ“Š Genel Mimari

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ADMIN PANEL â†” GATEWAY MÄ°MARÄ°SÄ°                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                         ADMIN PANEL (React + Vite)                               â”‚â”‚
â”‚  â”‚                      https://admin.domizan.com                                   â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚   â”‚  Auth     â”‚   â”‚  Leads    â”‚   â”‚  Licenses â”‚   â”‚  Users & Devices          â”‚ â”‚â”‚
â”‚  â”‚   â”‚  Store    â”‚   â”‚  Store    â”‚   â”‚  Store    â”‚   â”‚  Store                    â”‚ â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚         â”‚               â”‚               â”‚                       â”‚               â”‚â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚â”‚
â”‚  â”‚                                     â”‚                                            â”‚â”‚
â”‚  â”‚                              API Service                                         â”‚â”‚
â”‚  â”‚                          (axios interceptor)                                     â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚                                            â”‚
â”‚                                         â”‚ HTTPS + JWT + Admin Secret                 â”‚
â”‚                                         â”‚                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                         â”‚                                            â”‚
â”‚                                         â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                             GATEWAY (Node.js)                                    â”‚â”‚
â”‚  â”‚                         https://api.domizan.com                                  â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚   â”‚                         ADMIN MIDDLEWARE                                   â”‚ â”‚â”‚
â”‚  â”‚   â”‚                                                                            â”‚ â”‚â”‚
â”‚  â”‚   â”‚   1. Check X-Admin-Secret header                                          â”‚ â”‚â”‚
â”‚  â”‚   â”‚   2. Verify JWT from Authorization Bearer                                 â”‚ â”‚â”‚
â”‚  â”‚   â”‚   3. Check admin role & permissions                                       â”‚ â”‚â”‚
â”‚  â”‚   â”‚   4. Rate limiting (100 req/min)                                          â”‚ â”‚â”‚
â”‚  â”‚   â”‚                                                                            â”‚ â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚                                     â”‚                                            â”‚â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚â”‚
â”‚  â”‚              â”‚                      â”‚                      â”‚                    â”‚â”‚
â”‚  â”‚              â–¼                      â–¼                      â–¼                    â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚   â”‚   Lead Routes     â”‚  â”‚  License Routes   â”‚  â”‚   Analytics Routes        â”‚  â”‚â”‚
â”‚  â”‚   â”‚   /v1/admin/leads â”‚  â”‚  /v1/admin/       â”‚  â”‚   /v1/admin/analytics     â”‚  â”‚â”‚
â”‚  â”‚   â”‚                   â”‚  â”‚  licenses         â”‚  â”‚   /v1/admin/stats         â”‚  â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Kimlik DoÄŸrulama AkÄ±ÅŸÄ±

### Admin Login

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADMIN LOGIN AKIÅI                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                            LOGIN FORMU                                           â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚     â”‚                                                                         â”‚  â”‚â”‚
â”‚  â”‚     â”‚   Email:     [admin@domizan.com                      ]                  â”‚  â”‚â”‚
â”‚  â”‚     â”‚   Password:  [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                           ]                  â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                         â”‚  â”‚â”‚
â”‚  â”‚     â”‚              [ğŸ” GiriÅŸ Yap]                                             â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                         â”‚  â”‚â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚                                            â”‚
â”‚                                         â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  REQUEST                                                                         â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚  POST https://api.domizan.com/v1/admin/auth/login                               â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚  Headers:                                                                        â”‚â”‚
â”‚  â”‚  X-Admin-Secret: a1b2c3d4-e5f6-7890-abcd-ef1234567890                           â”‚â”‚
â”‚  â”‚  Content-Type: application/json                                                  â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚  Body:                                                                           â”‚â”‚
â”‚  â”‚  {                                                                               â”‚â”‚
â”‚  â”‚    "email": "admin@domizan.com",                                                â”‚â”‚
â”‚  â”‚    "password": "secure_password_123"                                            â”‚â”‚
â”‚  â”‚  }                                                                               â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚                                            â”‚
â”‚                                         â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  GATEWAY Ä°ÅLEMLER                                                                â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚  1. X-Admin-Secret doÄŸrula                                                      â”‚â”‚
â”‚  â”‚  2. Email ile admin kullanÄ±cÄ±yÄ± bul                                             â”‚â”‚
â”‚  â”‚  3. Password hash karÅŸÄ±laÅŸtÄ±r (bcrypt)                                          â”‚â”‚
â”‚  â”‚  4. JWT token oluÅŸtur (15 dakika expiry)                                        â”‚â”‚
â”‚  â”‚  5. Refresh token oluÅŸtur (7 gÃ¼n expiry)                                        â”‚â”‚
â”‚  â”‚  6. Son giriÅŸ zamanÄ±nÄ± gÃ¼ncelle                                                 â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚                                            â”‚
â”‚                                         â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  RESPONSE (200 OK)                                                               â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚  {                                                                               â”‚â”‚
â”‚  â”‚    "success": true,                                                              â”‚â”‚
â”‚  â”‚    "data": {                                                                     â”‚â”‚
â”‚  â”‚      "user": {                                                                   â”‚â”‚
â”‚  â”‚        "id": "admin_001",                                                        â”‚â”‚
â”‚  â”‚        "email": "admin@domizan.com",                                            â”‚â”‚
â”‚  â”‚        "name": "Sistem YÃ¶neticisi",                                             â”‚â”‚
â”‚  â”‚        "role": "super_admin",                                                   â”‚â”‚
â”‚  â”‚        "permissions": ["leads", "licenses", "users", "analytics", "settings"]  â”‚â”‚
â”‚  â”‚      },                                                                          â”‚â”‚
â”‚  â”‚      "tokens": {                                                                 â”‚â”‚
â”‚  â”‚        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",                â”‚â”‚
â”‚  â”‚        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",               â”‚â”‚
â”‚  â”‚        "expiresIn": 900                                                         â”‚â”‚
â”‚  â”‚      }                                                                           â”‚â”‚
â”‚  â”‚    }                                                                             â”‚â”‚
â”‚  â”‚  }                                                                               â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Lead YÃ¶netimi API

### Lead Listesi

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /v1/admin/leads                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Headers:                                                                            â”‚
â”‚  Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...                      â”‚
â”‚  X-Admin-Secret: a1b2c3d4-e5f6-7890-abcd-ef1234567890                              â”‚
â”‚                                                                                      â”‚
â”‚  Query Parameters:                                                                   â”‚
â”‚  ?page=1&limit=20&status=new&search=kaya&sortBy=createdAt&sortOrder=desc           â”‚
â”‚                                                                                      â”‚
â”‚  Response:                                                                           â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "leads": [...],                                                                 â”‚
â”‚      "pagination": { "page": 1, "limit": 20, "total": 45, "totalPages": 3 }         â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Lead DetayÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /v1/admin/leads/:id                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Response:                                                                           â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "id": "550e8400-e29b-41d4-a716-446655440000",                                  â”‚
â”‚      "name": "Ahmet Kaya",                                                          â”‚
â”‚      "email": "ahmet@kayasmmm.com",                                                 â”‚
â”‚      "phone": "+905321234567",                                                      â”‚
â”‚      "company": "Kaya SMMM",                                                        â”‚
â”‚      "message": "Demo talep ediyorum...",                                           â”‚
â”‚      "source": "landing_page",                                                      â”‚
â”‚      "status": "new",                                                               â”‚
â”‚      "assignedTo": null,                                                            â”‚
â”‚      "notes": null,                                                                 â”‚
â”‚      "utmSource": "google",                                                         â”‚
â”‚      "utmCampaign": "smmm_2026",                                                    â”‚
â”‚      "createdAt": "2026-02-05T16:15:30.000Z",                                       â”‚
â”‚      "updatedAt": "2026-02-05T16:15:30.000Z",                                       â”‚
â”‚      "history": [                                                                    â”‚
â”‚        { "action": "created", "at": "2026-02-05T16:15:30.000Z", "by": "system" }   â”‚
â”‚      ]                                                                               â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Lead GÃ¼ncelleme

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PATCH /v1/admin/leads/:id                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Body:                                                                               â”‚
â”‚  {                                                                                   â”‚
â”‚    "status": "contacted",        // new | contacted | demo_scheduled | converted   â”‚
â”‚    "assignedTo": "sales@domizan.com",                                               â”‚
â”‚    "notes": "Telefonda gÃ¶rÃ¼ÅŸÃ¼ldÃ¼. Demo iÃ§in tarih belirlendi."                      â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â”‚  Response (200 OK):                                                                  â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": { ... updated lead ... }                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“œ Lisans YÃ¶netimi API

### Lisans OluÅŸturma (Full)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST /v1/admin/licenses                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Body:                                                                               â”‚
â”‚  {                                                                                   â”‚
â”‚    // MÃ¼ÅŸteri Bilgileri                                                             â”‚
â”‚    "ownerName": "Ahmet Kaya",                                                       â”‚
â”‚    "ownerEmail": "ahmet@kayasmmm.com",                                              â”‚
â”‚    "ownerPhone": "+905321234567",                                                   â”‚
â”‚    "companyName": "Kaya SMMM",                                                      â”‚
â”‚    "companyVkn": "1234567890",                                                      â”‚
â”‚                                                                                      â”‚
â”‚    // Paket Bilgileri                                                               â”‚
â”‚    "packageType": "pro",                // basic | pro | enterprise                 â”‚
â”‚    "maxDevices": 5,                                                                 â”‚
â”‚    "durationMonths": 12,                                                            â”‚
â”‚    "monthlyTokenLimit": 500000,                                                     â”‚
â”‚                                                                                      â”‚
â”‚    // API Keys (Åifrelenerek Saklanacak)                                            â”‚
â”‚    "geminiApiKey": "AIzaSyB...",                                                    â”‚
â”‚                                                                                      â”‚
â”‚    // Telegram Bot (Åifrelenerek Saklanacak)                                        â”‚
â”‚    "telegramBotToken": "7123456789:ABCdefGHIjklMNOpqrsTUVwxyz",                     â”‚
â”‚    "telegramBotUsername": "@kaya_smmm_bot",                                         â”‚
â”‚                                                                                      â”‚
â”‚    // Opsiyonel                                                                     â”‚
â”‚    "leadId": "550e8400-e29b-41d4-a716-446655440000"  // Lead'den oluÅŸturuluyorsa    â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  GATEWAY Ä°ÅLEMLER                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  1. License key oluÅŸtur: DOMIZAN-PRO5-XXXX-YYYY                                     â”‚
â”‚  2. Gemini API key'i ÅŸifrele (AES-256-GCM + ENCRYPTION_KEY)                        â”‚
â”‚  3. Telegram bot token'Ä± ÅŸifrele                                                   â”‚
â”‚  4. Telegram webhook secret oluÅŸtur (rastgele 32 byte)                             â”‚
â”‚  5. PostgreSQL'e kaydet                                                            â”‚
â”‚  6. Telegram Bot webhook'u ayarla:                                                 â”‚
â”‚     POST https://api.telegram.org/bot<token>/setWebhook                            â”‚
â”‚     {                                                                               â”‚
â”‚       "url": "https://api.domizan.com/v1/webhook/telegram/DOMIZAN-PRO5-XXXX-YYYY", â”‚
â”‚       "secret_token": "<webhook_secret>"                                           â”‚
â”‚     }                                                                               â”‚
â”‚  7. Lead varsa status'Ã¼ "converted" yap                                            â”‚
â”‚  8. MÃ¼ÅŸteriye email gÃ¶nder (opsiyonel)                                             â”‚
â”‚                                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  RESPONSE (201 Created)                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "license": {                                                                    â”‚
â”‚        "id": "660e8500-f39c-52e5-b827-557766550001",                                â”‚
â”‚        "licenseKey": "DOMIZAN-PRO5-K4Y4-SMMM",                                      â”‚
â”‚        "ownerName": "Ahmet Kaya",                                                   â”‚
â”‚        "ownerEmail": "ahmet@kayasmmm.com",                                          â”‚
â”‚        "companyName": "Kaya SMMM",                                                  â”‚
â”‚        "packageType": "pro",                                                        â”‚
â”‚        "maxDevices": 5,                                                             â”‚
â”‚        "currentDevices": 0,                                                         â”‚
â”‚        "monthlyTokenLimit": 500000,                                                 â”‚
â”‚        "tokensUsedThisMonth": 0,                                                    â”‚
â”‚        "telegramBotUsername": "@kaya_smmm_bot",                                     â”‚
â”‚        "telegramWebhookActive": true,                                               â”‚
â”‚        "status": "active",                                                          â”‚
â”‚        "expiresAt": "2027-02-05T00:00:00.000Z",                                     â”‚
â”‚        "createdAt": "2026-02-05T16:30:00.000Z"                                      â”‚
â”‚      },                                                                              â”‚
â”‚      "webhookSetup": {                                                               â”‚
â”‚        "success": true,                                                             â”‚
â”‚        "webhookUrl": "https://api.domizan.com/v1/webhook/telegram/DOMIZAN-PRO5..." â”‚
â”‚      }                                                                               â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Lisans Listesi

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /v1/admin/licenses                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Query:                                                                              â”‚
â”‚  ?page=1&limit=20&status=active&search=kaya&packageType=pro                         â”‚
â”‚                                                                                      â”‚
â”‚  Response:                                                                           â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "licenses": [                                                                   â”‚
â”‚        {                                                                             â”‚
â”‚          "id": "660e8500-f39c-52e5-b827-557766550001",                              â”‚
â”‚          "licenseKey": "DOMIZAN-PRO5-K4Y4-SMMM",                                    â”‚
â”‚          "ownerName": "Ahmet Kaya",                                                 â”‚
â”‚          "companyName": "Kaya SMMM",                                                â”‚
â”‚          "packageType": "pro",                                                      â”‚
â”‚          "status": "active",                                                        â”‚
â”‚          "currentDevices": 2,                                                       â”‚
â”‚          "maxDevices": 5,                                                           â”‚
â”‚          "tokensUsedThisMonth": 125000,                                             â”‚
â”‚          "monthlyTokenLimit": 500000,                                               â”‚
â”‚          "expiresAt": "2027-02-05T00:00:00.000Z",                                   â”‚
â”‚          "lastActiveAt": "2026-02-05T16:00:00.000Z"                                 â”‚
â”‚        }                                                                             â”‚
â”‚      ],                                                                              â”‚
â”‚      "pagination": { ... }                                                          â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cihaz YÃ¶netimi

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /v1/admin/licenses/:id/devices                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Response:                                                                           â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "devices": [                                                                    â”‚
â”‚        {                                                                             â”‚
â”‚          "id": "dev_001",                                                           â”‚
â”‚          "fingerprint": "a1b2c3...",                                                â”‚
â”‚          "deviceName": "DESKTOP-AHMET",                                             â”‚
â”‚          "osType": "windows",                                                       â”‚
â”‚          "osVersion": "Windows 11 Pro",                                             â”‚
â”‚          "appVersion": "1.1.0",                                                     â”‚
â”‚          "ipAddress": "85.123.45.67",                                               â”‚
â”‚          "isMaster": true,                                                          â”‚
â”‚          "status": "approved",         // pending | approved | blocked             â”‚
â”‚          "lastActiveAt": "2026-02-05T16:00:00.000Z",                                â”‚
â”‚          "createdAt": "2026-01-15T10:00:00.000Z"                                    â”‚
â”‚        },                                                                            â”‚
â”‚        {                                                                             â”‚
â”‚          "id": "dev_002",                                                           â”‚
â”‚          "deviceName": "LAPTOP-AHMET",                                              â”‚
â”‚          "status": "pending",                                                       â”‚
â”‚          "createdAt": "2026-02-05T14:00:00.000Z"                                    â”‚
â”‚        }                                                                             â”‚
â”‚      ],                                                                              â”‚
â”‚      "maxDevices": 5,                                                               â”‚
â”‚      "approvedCount": 1,                                                            â”‚
â”‚      "pendingCount": 1                                                              â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PATCH /v1/admin/licenses/:licenseId/devices/:deviceId                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Body:                                                                               â”‚
â”‚  {                                                                                   â”‚
â”‚    "status": "approved",                // pending | approved | blocked             â”‚
â”‚    "isMaster": false                    // opsiyonel - master deÄŸiÅŸtirme            â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â”‚  Response (200 OK):                                                                  â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "device": { ... updated device ... },                                          â”‚
â”‚      "notificationSent": true      // Desktop'a bildirim gÃ¶nderildi                 â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Analytics API

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /v1/admin/analytics/dashboard                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Response:                                                                           â”‚
â”‚  {                                                                                   â”‚
â”‚    "success": true,                                                                  â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "overview": {                                                                   â”‚
â”‚        "totalLicenses": 150,                                                        â”‚
â”‚        "activeLicenses": 142,                                                       â”‚
â”‚        "totalLeads": 500,                                                           â”‚
â”‚        "newLeadsThisMonth": 45,                                                     â”‚
â”‚        "conversionRate": 0.28,                                                      â”‚
â”‚        "totalTokensUsed": 15000000,                                                 â”‚
â”‚        "mrr": 42600  // Monthly Recurring Revenue (TRY)                             â”‚
â”‚      },                                                                              â”‚
â”‚      "recentActivity": [...],                                                        â”‚
â”‚      "expiringLicenses": [...],    // 30 gÃ¼n iÃ§inde bitecekler                      â”‚
â”‚      "lowTokenLicenses": [...],    // %80+ kullanÄ±m                                 â”‚
â”‚      "pendingDevices": [...],      // Onay bekleyen cihazlar                        â”‚
â”‚      "versionDistribution": {                                                        â”‚
â”‚        "1.1.0": 80,                                                                 â”‚
â”‚        "1.0.5": 45,                                                                 â”‚
â”‚        "1.0.0": 17                                                                  â”‚
â”‚      }                                                                               â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ WebSocket Real-time Updates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADMIN WEBSOCKET                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Connection:                                                                         â”‚
â”‚  wss://api.domizan.com/ws/admin                                                     â”‚
â”‚                                                                                      â”‚
â”‚  Authentication:                                                                     â”‚
â”‚  { "type": "auth", "token": "<jwt_token>" }                                         â”‚
â”‚                                                                                      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•        â”‚
â”‚                                                                                      â”‚
â”‚  EVENT: NEW_LEAD                                                                     â”‚
â”‚  {                                                                                   â”‚
â”‚    "type": "NEW_LEAD",                                                              â”‚
â”‚    "timestamp": "2026-02-05T16:15:30.000Z",                                         â”‚
â”‚    "data": { "id": "...", "name": "Ahmet Kaya", ... }                               â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â”‚  EVENT: NEW_DEVICE_PENDING                                                           â”‚
â”‚  {                                                                                   â”‚
â”‚    "type": "NEW_DEVICE_PENDING",                                                    â”‚
â”‚    "timestamp": "...",                                                              â”‚
â”‚    "data": {                                                                         â”‚
â”‚      "license": { "key": "DOMIZAN-PRO5-K4Y4", "ownerName": "Ahmet Kaya" },          â”‚
â”‚      "device": { "name": "LAPTOP-AHMET", "os": "windows" }                          â”‚
â”‚    }                                                                                 â”‚
â”‚  }                                                                                   â”‚
â”‚                                                                                      â”‚
â”‚  EVENT: LICENSE_EXPIRING_SOON                                                        â”‚
â”‚  { "type": "LICENSE_EXPIRING_SOON", "data": { ... } }                               â”‚
â”‚                                                                                      â”‚
â”‚  EVENT: TOKEN_QUOTA_WARNING                                                          â”‚
â”‚  { "type": "TOKEN_QUOTA_WARNING", "data": { "license": "...", "usedPercent": 85 } } â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… GÃ¼venlik Ã–zeti

| Header | Zorunlu | AÃ§Ä±klama |
|--------|---------|----------|
| X-Admin-Secret | âœ… | TÃ¼m admin endpoint'leri iÃ§in |
| Authorization | âœ… | Bearer JWT token (login hariÃ§) |
| Content-Type | âœ… | application/json |

| Kontrol | Detay |
|---------|-------|
| JWT Expiry | 15 dakika (+ refresh token 7 gÃ¼n) |
| Rate Limit | 100 request/dakika |
| Password Hash | bcrypt (12 rounds) |
| Sensitive Data | YanÄ±tlarda API key'ler asla aÃ§Ä±k gÃ¶sterilmez |
